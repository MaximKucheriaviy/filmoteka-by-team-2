{"mappings":"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","sources":["src/js/generateObjectsFormLS.js","src/index-library.js"],"sourcesContent":[" function checkLSWached() {\n  const wached = JSON.parse(localStorage.getItem('wachedFilms'));\n  const obj = {}\n  if (wached) {\n    obj.totalItems = wached.length;\n    obj.totalPagesForDesctop = Math.ceil(wached.length / 9);\n    obj.totalPagesForTablet = Math.ceil(wached.length / 8);\n    obj.totalPagesForMobile = Math.ceil(wached.length / 4);\n    obj.data = wached;\n  }\n  return obj;\n}\n\n function checkLSQueue() {\n  const wached = JSON.parse(localStorage.getItem('queueFilms'));\n  const obj = {}\n  if (wached) {\n    obj.totalItems = wached.length;\n    obj.totalPagesForDesctop = Math.ceil(wached.length / 9);\n    obj.totalPagesForTablet = Math.ceil(wached.length / 8);\n    obj.totalPagesForMobile = Math.ceil(wached.length / 4);\n    obj.data = wached;\n  }\n  return obj;\n}\n\nfunction getPageItems(page, perPage, arr = []){\n  const from = (page - 1) * perPage;\n  const to = from + perPage - 1;\n  const result = arr.filter((item, index) => index >= from && index <= to);\n  return result;\n}\n\nexport {checkLSQueue, checkLSWached, getPageItems}\n\n\n","import {checkLSQueue, checkLSWached, getPageItems} from \"./js/generateObjectsFormLS\"\nimport PaginationSystem from \"./js/paginationSyste\"\nimport { createMarcupGallery, createMarcupGalleryAlt} from \"./js/createMarcupGallery\"\nimport infoFilm from './js/film-info-modal';\n\ninfoFilm();\n\nlet pageStatus = \"wached\";\nconst paginationSystem = new PaginationSystem();\nconst refs = {\n    wachedBtn: document.querySelector('.btn-watched'),\n    queueBtn: document.querySelector('.btn-queue'),\n    cardList: document.querySelector('[data-gallery]')\n}\n\nrefs.wachedBtn.addEventListener('click', wachedOnClick);\nrefs.queueBtn.addEventListener('click', queueOnClick);\n\nrenderPage();\n\npaginationSystem.mainList.addEventListener(\n    'pagination-system-clicked',\n    event => {\n        renderPage(paginationSystem.page, false);\n    }\n);\n\nfunction renderPage(page = 1, paginationRework = true){\n    let perPage\n    showHideNoItemDivs();\n    if(window.innerWidth >= 1280){\n        perPage = 9\n    }\n    else if(window.innerWidth >= 768){\n        perPage = 8\n    }\n    else if(window.innerWidth >= 0){\n        perPage = 4\n    }\n    let wochedObj\n    if(pageStatus === \"wached\"){\n        wochedObj = checkLSWached();\n    }\n    else if(pageStatus === \"queue\"){\n        wochedObj = checkLSQueue();\n    }\n    if(!wochedObj.data || wochedObj.data.length === 0){\n        refs.cardList.innerHTML = \"\";\n        showHideNoItemDivs(pageStatus);\n        return;\n    }\n    refs.cardList.innerHTML = \"\";\n    refs.cardList.append(...createMarcupGalleryAlt(getPageItems(paginationSystem.page, perPage, wochedObj.data), true))\n    if(paginationRework){\n        if(window.innerWidth >= 1280){\n            console.log(wochedObj.totalPagesForDesctop);\n            paginationSystem.setTotalPages(wochedObj.totalPagesForDesctop)\n        }\n        else if(window.innerWidth >= 768){\n            paginationSystem.setTotalPages(wochedObj.totalPagesForTablet)\n        }\n        else if(window.innerWidth >= 0){\n            paginationSystem.setTotalPages(wochedObj.totalPagesForMobile)\n        }\n        paginationSystem.setPage(page);\n    }\n}\n\nfunction wachedOnClick(){\n    if(pageStatus === \"wached\"){\n        return;\n    }\n    pageStatus = \"wached\";\n    refs.wachedBtn.classList.toggle('button-checced');\n    refs.queueBtn.classList.toggle('button-checced');\n    renderPage();\n}\n\nfunction queueOnClick(){\n    if(pageStatus === \"queue\"){\n        return;\n    }\n    pageStatus = \"queue\";\n    refs.wachedBtn.classList.toggle('button-checced');\n    refs.queueBtn.classList.toggle('button-checced');\n    renderPage();\n}\n\n\nwindow.addEventListener('modalButtonClick', (event) =>{\n    renderPage();\n});\n\n\nfunction showHideNoItemDivs(param){\n    if(param === \"wached\"){\n        document.querySelector('.no-item-in-wached').classList.remove('visually-hidden')\n    }\n    else if(param === \"queue\"){\n        document.querySelector('.no-item-in-queue').classList.remove('visually-hidden')\n    }\n    else{\n        document.querySelector('.no-item-in-wached').classList.add('visually-hidden')\n        document.querySelector('.no-item-in-queue').classList.add('visually-hidden')\n    }\n}"],"names":["$12f99ed56270ca31$export$9467bf386d720fc1","wached","JSON","parse","localStorage","getItem","obj","totalItems","length","totalPagesForDesctop","Math","ceil","totalPagesForTablet","totalPagesForMobile","data","$12f99ed56270ca31$export$e5d690ca54299095","$12f99ed56270ca31$export$9882e2d1b756a8f1","page","perPage","arr","from","to","filter","item","index","default","$c60e92b6a1901b5b$var$pageStatus","$c60e92b6a1901b5b$var$paginationSystem","$hdEMf","$c60e92b6a1901b5b$var$refs","wachedBtn","document","querySelector","queueBtn","cardList","$c60e92b6a1901b5b$var$renderPage","paginationRework","wochedObj","$c60e92b6a1901b5b$var$showHideNoItemDivs","window","innerWidth","innerHTML","append","$c5szI","createMarcupGalleryAlt","console","log","setTotalPages","setPage","param","classList","remove","add","addEventListener","toggle","mainList","event"],"version":3,"file":"my-library.c6a20134.js.map"}