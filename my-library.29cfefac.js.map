{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SCAC,SAASC,IACR,IAAMC,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,gBACzCC,EAAM,GAQZ,OAPIL,IACFK,EAAIC,WAAaN,EAAOO,OACxBF,EAAIG,qBAAuBC,KAAKC,KAAKV,EAAOO,OAAS,GACrDF,EAAIM,oBAAsBF,KAAKC,KAAKV,EAAOO,OAAS,GACpDF,EAAIO,oBAAsBH,KAAKC,KAAKV,EAAOO,OAAS,GACpDF,EAAIQ,KAAOb,GAENK,EAGR,SAASS,IACR,IAAMd,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,eACzCC,EAAM,GAQZ,OAPIL,IACFK,EAAIC,WAAaN,EAAOO,OACxBF,EAAIG,qBAAuBC,KAAKC,KAAKV,EAAOO,OAAS,GACrDF,EAAIM,oBAAsBF,KAAKC,KAAKV,EAAOO,OAAS,GACpDF,EAAIO,oBAAsBH,KAAKC,KAAKV,EAAOO,OAAS,GACpDF,EAAIQ,KAAOb,GAENK,EAGT,SAASU,EAAaC,EAAMC,G,IAASC,EAAAC,UAAAZ,OAAA,YAAAY,UAAA,GAAQA,UAAA,GAAF,GACnCC,GAAQJ,EAAO,GAAKC,EACpBI,EAAKD,EAAOH,EAAU,EACtBK,EAASJ,EAAIK,QAAO,SAACC,EAAMC,G,OAAUA,GAASL,GAAQK,GAASJ,KACrE,OAAOC,E,+BDzBT,E,WAAAI,WAEA,IAAIC,EAAa,SACXC,EAAmB,IAAI,EAAAC,EAAAH,SACvBI,EAAO,CACTC,UAAWC,SAASC,cAAc,gBAClCC,SAAUF,SAASC,cAAc,cACjCE,SAAUH,SAASC,cAAc,mBAQrC,SAASG,I,IAuBLC,EAtBIpB,EAUAqB,EAXYC,IAAApB,UAAAZ,OAAA,YAAAY,UAAA,KAAuBA,UAAA,GAAEH,EAAAG,UAAAZ,OAAA,YAAAY,UAAA,GAAQA,UAAA,GAAD,EAE7CqB,OAAOC,YAAc,KACpBxB,EAAU,EAENuB,OAAOC,YAAc,IACzBxB,EAAU,EAENuB,OAAOC,YAAc,IACzBxB,EAAU,GAGI,WAAfU,EACCW,EAAYvC,IAEO,UAAf4B,IACJW,EAAYxB,KAEZwB,EAAUzB,MAIdiB,EAAKK,SAASO,UAAY,IAC1BL,EAAAP,EAAKK,UAASQ,OAAdC,MAAAP,EAAqBQ,EAAAhD,EAAA,EAAG,EAAAiD,EAAAC,wBAAuBhC,EAAaa,EAAiBZ,KAAMC,EAASqB,EAAUzB,OAAO,KAC1G0B,IACIC,OAAOC,YAAc,MACpBO,QAAQC,IAAIX,EAAU9B,sBACtBoB,EAAiBsB,cAAcZ,EAAU9B,uBAErCgC,OAAOC,YAAc,IACzBb,EAAiBsB,cAAcZ,EAAU3B,qBAErC6B,OAAOC,YAAc,GACzBb,EAAiBsB,cAAcZ,EAAU1B,qBAE7CgB,EAAiBuB,QAAQnC,KAhBzBgC,QAAQC,IAAI,uBAxBpBnB,EAAKC,UAAUqB,iBAAiB,SA4ChC,WACIzB,EAAa,SACbS,OA7CJN,EAAKI,SAASkB,iBAAiB,SAgD/B,WACIzB,EAAa,QACbS,OAhDJA,I","sources":["src/index-library.js","src/js/generateObjectsFormLS.js"],"sourcesContent":["import {checkLSQueue, checkLSWached, getPageItems} from \"./js/generateObjectsFormLS\"\nimport PaginationSystem from \"./js/paginationSyste\"\nimport { createMarcupGallery, createMarcupGalleryAlt} from \"./js/createMarcupGallery\"\nimport infoFilm from './js/film-info-modal';\n\ninfoFilm();\n\nlet pageStatus = \"wached\";\nconst paginationSystem = new PaginationSystem();\nconst refs = {\n    wachedBtn: document.querySelector('.btn-watched'),\n    queueBtn: document.querySelector('.btn-queue'),\n    cardList: document.querySelector('[data-gallery]')\n}\n\nrefs.wachedBtn.addEventListener('click', wachedOnClick);\nrefs.queueBtn.addEventListener('click', queueOnClick);\n\nrenderPage();\n\nfunction renderPage(paginationRework = true, page = 1){\n    let perPage\n    if(window.innerWidth >= 1280){\n        perPage = 9\n    }\n    else if(window.innerWidth >= 768){\n        perPage = 8\n    }\n    else if(window.innerWidth >= 0){\n        perPage = 4\n    }\n    let wochedObj\n    if(pageStatus === \"wached\"){\n        wochedObj = checkLSWached();\n    }\n    else if(pageStatus === \"queue\"){\n        wochedObj = checkLSQueue();\n    }\n    if(!wochedObj.data){\n        console.log(\"woched data missing\");\n        return;\n    }\n    refs.cardList.innerHTML = \"\";\n    refs.cardList.append(...createMarcupGalleryAlt(getPageItems(paginationSystem.page, perPage, wochedObj.data), true))\n    if(paginationRework){\n        if(window.innerWidth >= 1280){\n            console.log(wochedObj.totalPagesForDesctop);\n            paginationSystem.setTotalPages(wochedObj.totalPagesForDesctop)\n        }\n        else if(window.innerWidth >= 768){\n            paginationSystem.setTotalPages(wochedObj.totalPagesForTablet)\n        }\n        else if(window.innerWidth >= 0){\n            paginationSystem.setTotalPages(wochedObj.totalPagesForMobile)\n        }\n        paginationSystem.setPage(page);\n    }\n}\n\nfunction wachedOnClick(){\n    pageStatus = \"wached\";\n    renderPage();\n}\n\nfunction queueOnClick(){\n    pageStatus = \"queue\";\n    renderPage();\n}"," function checkLSWached() {\n  const wached = JSON.parse(localStorage.getItem('wachedFilms'));\n  const obj = {}\n  if (wached) {\n    obj.totalItems = wached.length;\n    obj.totalPagesForDesctop = Math.ceil(wached.length / 9);\n    obj.totalPagesForTablet = Math.ceil(wached.length / 8);\n    obj.totalPagesForMobile = Math.ceil(wached.length / 4);\n    obj.data = wached;\n  }\n  return obj;\n}\n\n function checkLSQueue() {\n  const wached = JSON.parse(localStorage.getItem('queueFilms'));\n  const obj = {}\n  if (wached) {\n    obj.totalItems = wached.length;\n    obj.totalPagesForDesctop = Math.ceil(wached.length / 9);\n    obj.totalPagesForTablet = Math.ceil(wached.length / 8);\n    obj.totalPagesForMobile = Math.ceil(wached.length / 4);\n    obj.data = wached;\n  }\n  return obj;\n}\n\nfunction getPageItems(page, perPage, arr = []){\n  const from = (page - 1) * perPage;\n  const to = from + perPage - 1;\n  const result = arr.filter((item, index) => index >= from && index <= to);\n  return result;\n}\n\nexport {checkLSQueue, checkLSWached, getPageItems}\n\n\n"],"names":["$8nrFW","parcelRequire","$2d36dc77d0803411$export$9467bf386d720fc1","wached","JSON","parse","localStorage","getItem","obj","totalItems","length","totalPagesForDesctop","Math","ceil","totalPagesForTablet","totalPagesForMobile","data","$2d36dc77d0803411$export$e5d690ca54299095","$2d36dc77d0803411$export$9882e2d1b756a8f1","page","perPage","arr","arguments","from","to","result","filter","item","index","default","$e4cd66a41bacdb89$var$pageStatus","$e4cd66a41bacdb89$var$paginationSystem","$ciln9","$e4cd66a41bacdb89$var$refs","wachedBtn","document","querySelector","queueBtn","cardList","$e4cd66a41bacdb89$var$renderPage","_cardList","wochedObj","paginationRework","window","innerWidth","innerHTML","append","apply","$parcel$interopDefault","$evL0J","createMarcupGalleryAlt","console","log","setTotalPages","setPage","addEventListener"],"version":3,"file":"my-library.29cfefac.js.map"}